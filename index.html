<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>曜丘 Hikarioka</title>
    <link rel="stylesheet" href="public/css/first.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="public/css/js/WOW-master/css/libs/animate.css">
    <link rel="shortcut icon" href="favicon.ico">
    <!-- slick css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css">
    <!-- slick theme css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css">
    <style>
        @font-face {
            font-family: Iansui094-Regular;
            src: url(Iansui094-Regular.woff);
        }

        .beau {
            position: absolute;
        }

        @media (min-width:768px) {
            .banner {
                background-image: url(public/images/index_banner_01.jpg);
                background-size: 100%;
                padding-bottom: 43.9%;
                position: relative;
                /* background-attachment: fixed; */
                /* z-index: 1; */
            }

            .beau {
                transform: translateX(200%) translateY(0%);
                width: 20%;
            }
        }

        @media (max-width:767px) {
            .banner {
                background-image: url(public/images/index_banner_02.png);
                background-size: 100%;
                padding-bottom: 100%;
                position: relative;
                background-size: cover;
            }

            .beau {
                transform: translateX(55%) translateY(5%);
                width: 50%;
            }
        }

        .one-time {
            width: 80%;
            max-width: 600px;
            margin: auto;
            color: red;
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="#" class="nav-branding">
                    <img class="tittle-logo" src="public/images/logo/fullogo.png" alt="曜丘" width="500px" height="85px">
                </a>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="about.html" class="nav-link">關於我們</a>
                    </li>
                    <li class="nav-item">
                        <a href="news.html" class="nav-link">最新消息</a>
                    </li>
                    <li class="nav-item">
                        <a href="menu.html" class="nav-link">美味佳餚</a>
                    </li>
                    <li class="nav-item">
                        <a href="location.html" class="nav-link">餐廳位置</a>
                    </li>
                    <li class="nav-item">
                        <a href="faq.html" class="nav-link">常見問題</a>
                    </li>
                    <li class="nav-item">
                        <a href="contact.html" class="nav-link">聯絡我們</a>
                    </li>
                </ul>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </nav>
        </div>
    </header>

    <div class="banner">
        <img class="beau t3" src="public/images/beau1.png">
    </div>

    <div class="news" data-wow-delay="1s">
        <div class="container">
            <h2 class="text-center  wow fadeInDown ">｜&emsp;人氣消息&emsp;｜</h2>
            <div class="parent  wow fadeInDown ">
                <div class="child">
                    <img src="public/images/page3/ad (2).jpg" alt="">
                    <img src="public/images/page3/ad (1).jpg" alt="">
                    <img src="public/images/page3/ad (3).jpg" alt="">
                    <!-- <img src="public/images/d/dog (4).jpg" alt=""> -->
                </div>
                <div class="left-arrow">＜</div>
                <div class="right-arrow">＞</div>
                <!-- ol.indicator>li*4 -->
                <ol class="indicator">
                    <li class="active"></li>
                </ol>
            </div>
        </div>
    </div>

    <div class="simple-menu wow fadeInDown">
        <div class="container">
            <h2 class="text-center wow fadeInDown">｜&emsp;美味佳餚&emsp;｜</h2>
            <div class="row">
                <div class="col-md-4 col-12 wow fadeInDown">
                    <div class="img-overlay">
                        <img class="img-overlay img-fluid" src="public/images/edit/nippon_curry-01.png" alt="和風咖哩飯">
                    </div>
                    <h3 class="text-center">和風咖哩飯</h3>
                </div>
                <div class="col-md-4 col-12 wow fadeInDown">
                    <div class="img-overlay">
                        <img class="img-fluid" src="public/images/edit/octsalad-01.png" alt="芹菜章魚沙拉">
                    </div>
                    <h3 class="text-center">芹菜章魚沙拉</h3>
                </div>
                <div class="col-md-4 col-12 wow fadeInDown">
                    <div class="img-overlay">
                        <img class="img-fluid" src="public/images/edit/mentaiko-01.png" alt="明太子義大利麵">
                    </div>
                    <h3 class="text-center">明太子義大利麵</h3>
                </div>
            </div>
            <div class="btn-container-extra wow fadeInDown"><a href="menu.html">更多美味</a></div>
        </div>
    </div>


    <footer>
        <div class="container">
            <div class="row">
                <a class="col-ex-12 container-extra" href="index.html">
                    <img class="tittle-logo" src="public/images/logo/fullogo.png" alt="cmyk" width="500px"
                        height="85px"></a>
                <div class="social">
                    <a href="index.html">
                        <img src="public/images/iconmonstr-facebook-3.svg" alt="Facebook"></a>
                    <a href="index.html">
                        <img src="public/images/iconmonstr-instagram-13.svg" alt="Instagram"></a>
                </div>
                <div class="row">
                    <div class="col-sm-12 col-md-3 text-center mb-2">元善餐飲事業股份有限公司</div>
                    <div class="col-sm-12 col-md-3 text-center mb-2">聯絡電話：04-2422-0010</div>
                    <div class="col-sm-12 cols-md-3 text-center mb-2">服務時間：09：00-18：00</div>
                    <div class="col-sm-12 col-md-3 text-center mb-2">台中市西區美村路一段187號4樓</div>
                    <h6 class="col-sm-12 text-center mb-2">Copyright© 2022 HIKARIOKA Design by ZHEYOULIN</h6>
                </div>
            </div>
        </div>
    </footer>

    <a class="page-top" href="javascript:;">top</a>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <!-- slick js -->
    <script src="public/css/js/WOW-master/dist/wow.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="public/css/js/script.js"></script>
    <script>
        // 第二層裡面最前面 補上 圖片陣列的最後一個 的複製元素
        $('.child').prepend($('.child>img').last().clone())
        // 第二層裡面最後面 補上 圖片陣列的第二個的 複製元素
        $('.child').append($('.child>img').eq(1).clone())

        let currentLeftNum = 0 //左邊位移的距離(0/-??)
        let currentNum = 1 //當前的數字
        let parentWidth = $('.parent').width() //父層寬度
        let imgLength = $('.child>img').length //子層個數
        let childTotalWidth = parentWidth * imgLength //父層寬度*子層個數

        // 調整第二層一開始位移的位置
        $('.child').css({ 'margin-left': -parentWidth * (currentNum) }) // -500*1

        $('.child').width(childTotalWidth) //子層總寬 = 父層寬度*子層圖片個數(進到畫面讀一次)
        $('.child>img').width(parentWidth) //子層下的圖片寬 = 父層寬度

        // 蓋板跳轉至首頁的幻燈
        $(window).on('load', function () {
            // console.log('window load',$('img').height())

            $('.loading-overlay').addClass('active')

            parentWidth = $('.parent').width()
            childTotalWidth = parentWidth * imgLength
            $('.child').css({ 'margin-left': -parentWidth * currentNum })
            $('.child').width(childTotalWidth)
            $('.child>img').width(parentWidth)
        })// window load end

        // for迴圈自動生成輪播圓總數
        for (let i = 0; i < imgLength - 3; i++) {
            $('.indicator>li.active').after('<li></li>')
        }// console.log(i)

        // 螢幕大小時的變化
        $(window).resize(function () {
            // console.log('window load', $('.img').height())
            parentWidth = $('.parent').width()
            childTotalWidth = parentWidth * imgLength
            $('.child').css({ 'margin-left': -parentWidth * (currentNum) })
            $('.child').width(childTotalWidth)
            $('.child>img').width(parentWidth)
        })// window resize end

        $('.right-arrow').on('click', function () {
            // console.log('外', currentNum)
            if (currentNum == imgLength - 1) { // 假如當前的數字相等於圖片總數
            } else {
                currentNum = currentNum + 1 //當前的數字累加1
                // console.log('內',currentNum)
                common()
                // $('.child').animate({ 'margin-left': -parentWidth * (currentNum - 1) })

                // [-parentWidth /-500/ ] * ( [currentNum + 1] /2/ - 1 )
            } // if currentNum == imgLength end
        }) // .right-arrow end

        $('.left-arrow').on('click', function () {
            if (currentNum == 0) {

            } else {
                currentNum = currentNum - 1
                common()
                // $('.child').animate({ 'margin-left': -parentWidth * (currentNum - 1) })
            } // if currentNum == 1 end
        }) // .left-arrow end

        $('.indicator>li').on('click', function () {
            // console.log('當前的', currentNum)
            // console.log('跟我點的', $(this).index())
            // index 序列號
            // eq() 第幾個的元素
            currentNum = $(this).index() + 1 // 為了上方程式碼的結果(當前數字=點擊的序列號+1)
            common()
            // $('.indicator>li').eq(currentNum - 1).addClass('active') // 減回原本的序列號
            // $('.indicator>li').eq(currentNum - 1).siblings().removeClass('active')

            // $(this).addClass('active')
            // $(this).siblings().removeClass('active')
        })// .indicator>li end

        function common() {
            // $('.child').animate({'margin-left': -parentWidth * currentNum},callback)
            $('.child').animate({ 'margin-left': -parentWidth * currentNum }, 400, function () {
                //==== callback 函式執行完之後執行=====
                // 假如當前的數字 相等於 總數 - 1 
                if (currentNum == imgLength - 1) {
                    currentNum = 1
                }
                // 前面動畫跑完時執行
                $('.child').css({ 'margin-left': -parentWidth * currentNum })
                $('.indicator>li').eq(currentNum - 1).addClass('active')
                $('.indicator>li').eq(currentNum - 1).siblings().removeClass('active')

            }) //callback end
        } // common() end

        setInterval(function () {
            $('.right-arrow').click()
        }, 3000)

        // 輪播end

        new WOW().init();

        let offsetTop
        let product1Top = $('.container').offset().top
        $(window).scroll(function () {
            offsetTop = $(window).scrollTop()
            // console.log('卷軸高', offsetTop)
            if (offsetTop >= 700) {
                $('.page-top').addClass('active')
            } else {
                $('.page-top').removeClass('active')
            }
        })//scroll end

        $('.page-top').on('click', function () {
            $('html, body').animate({ scrollTop: 0 })
        })//.page-top

        // 點按page-top回到最上方
        $('.page-top').on('click', function () {
            $('html, body').animate({ scrollTop: 0 })
        })//.page-top

        function gsapAnimate() {
            // console.log('gsap')
            if ($(window).width() >= 768) {
                $(window).scroll(function () {
                    offsetTop = $(window).scrollTop()
                    // console.log(offsetTop/10)
                    gsap.to(".deco-1", { y: -offsetTop / 10, duration: 1 })
                    gsap.to(".deco-2", { y: -offsetTop / 5, duration: 1 })

                }) // scroll end
            } else {
                $(window).scroll(function () {
                    offsetTop = $(window).scrollTop()
                    // console.log(offsetTop/3)
                    gsap.to(".deco-1", { y: -offsetTop / 5, duration: 1 })
                    gsap.to(".deco-2", { y: -offsetTop / 3, duration: 1 })

                }) // scroll end
            }
        }
        gsapAnimate()
    </script>
</body>

</html>